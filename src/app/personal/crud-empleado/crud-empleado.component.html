<div class="main-content">
  <div class="container-fluid">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header card-header-icon">
          <div class="card-icon cardHeader">
            <i class="material-icons">account_box</i>
          </div>
          <h4 class="card-title">{{titulo}}</h4>
        </div>
        <form name="CrudEmpleadoForm" #CrudEmpleadoForm="ngForm" novalidate>
          <div class="card-body">
            <div class="row">
              <mat-form-field class="col-sm-4">
                <input matInput placeholder="Nombre:" [(ngModel)]="params.noNombre" name="params.noCliente"
                  (keypress)="setInputPattern($event, 'soloUnEspacioLetra')"
                  [pattern]="setValidatorPattern('soloUnEspacioLetra', setQuantifier('+'), true, true)"
                  #params.noCliente="ngModel" required>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <input matInput placeholder="Apellidos:" [(ngModel)]="params.noApellido" name="params.noApellido"
                  (keypress)="setInputPattern($event, 'soloUnEspacioLetra')"
                  [pattern]="setValidatorPattern('soloUnEspacioLetra', setQuantifier('+'), true, true)"
                  #params.noApellido="ngModel" required>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <input matInput placeholder="N° Celular:" [(ngModel)]="params.nuCelular" minlength="9" maxlength="9"
                  name="nuCelular" #nuCelular="ngModel" (keypress)="setInputPattern($event, 'cellPhone')"
                  [pattern]="setValidatorPattern('cellPhone', setQuantifier('+'), true, true)" required>
                <mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <input matInput type="text" [matDatepicker]="dp" placeholder="Fecha de Nacimiento:"
                [(ngModel)]="params.feNacimiento"  name="feNacimiento" #feNacimiento="ngModel" required>
              <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
              <mat-datepicker #dp disabled="false"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <input matInput placeholder="N° DNI:" [(ngModel)]="params.nuDni" minlength="8" maxlength="8"
                  name="params.nuDni" #params.nuDni="ngModel" (keypress)="setInputPattern($event, 'positiveDigits')"
                  [pattern]="setValidatorPattern('positiveDigits', setQuantifier('+'), true, true)" required>
                <mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <textarea matInput placeholder="Dirección:" [(ngModel)]="params.noDireccion"
                  (keypress)="setInputPattern($event, 'soloUnEspacioNumeroLetraPunto')"
                  [pattern]="setValidatorPattern('soloUnEspacioNumeroLetraPunto', setQuantifier('+'), true, true)"
                  name="params.noDireccion" #params.noDireccion="ngModel" matTextareaAutosize matAutosizeMinRows="2"
                  matAutosizeMaxRows="3" required></textarea>
                <mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <input matInput placeholder="Cuenta Bancaria:" [(ngModel)]="params.cuentaBancaria" minlength="16"
                  maxlength="16" name="params.cuentaBancaria" #params.cuentaBancaria="ngModel"
                  (keypress)="setInputPattern($event, 'cuentaBancaria')"
                  [pattern]="setValidatorPattern('cuentaBancaria', setQuantifier('+'), true, true)">
                <mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field class="col-sm-4">
                <mat-select #listaOpciones placeholder="Seleccione Banco" name="params.idBanco" #params.idBanco="ngModel"
                  [(ngModel)]="params.idBanco" id="params.idBanco" >
                  <mat-option>--</mat-option>
                  <mat-option *ngFor="let banco of bancoList" [value]="banco.idBanco">
                    {{banco.noBanco}}
                  </mat-option>
                </mat-select>
                <mat-error>
                </mat-error>
              </mat-form-field> 
              <div class="col-sm-4">
                <h5>Foto</h5>
                <div class="fileinput fileinput-new text-center" data-provides="fileinput">
                  <div class="fileinput-new thumbnail img-circle">
                    <img class="img"
                    src="{{params.foto ? params.foto : 'assets/img/credismart/avatar.png'}}">
                  </div>
                  <div class="fileinput-preview fileinput-exists thumbnail img-circle"></div>
                  <div>
                    <span class="btn btn-round btn-danger btn-file">
                      <span class="fileinput-new">Agregar Foto</span>
                      <span class="fileinput-exists">Cambiar</span>
                      <input type="file" name="..." (change)="esteRecibe($event)" />
                    </span>
                    <br />
                  </div>
                </div>
              </div>
              <div class="category form-category col-12">* Campos requeridos</div>
            </div>
          </div>
        </form>
        <div class="col-sm-12 text-right ">
          <button mat-raised-button="" *ngIf="op==0" [disabled]="isInvalid(CrudEmpleadoForm)" (click)="registrar()"
          type="button" class="btn btn-fill registrar btn-sm btn-primary" matTooltip="Registrar"
          [matTooltipPosition]="'above'"></button>
          <button mat-raised-button="" *ngIf="op!=0" [disabled]="isInvalid(CrudEmpleadoForm)" (click)="actualizar()"
          type="button" class="btn btn-fill actualizar btn-sm btn-primary" matTooltip="Modificar"
          [matTooltipPosition]="'above'"></button>
          &nbsp;<button mat-raised-button="" [routerLink]="['/personal']" type="button"
            class="btn btn-fill cerrar btn-sm btn-primary" matTooltip="Regresar" [matTooltipPosition]="'above'">
            <i class="material-icons">close</i>
          </button>
        </div>
        <br>
      </div>
    </div>
  </div>
</div>